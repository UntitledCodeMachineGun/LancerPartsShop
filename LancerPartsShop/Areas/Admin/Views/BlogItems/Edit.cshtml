@model BlogItem
@{
	string title = "Editing";
	ViewBag.Title = title;
}

<script src="~/js/ckeditor/ckeditor.js"></script>

<div class="container">
	<h2>@title</h2>
	<div>
		<form asp-area="Admin" asp-controller="BlogItems" asp-action="Edit" method="post" enctype="multipart/form-data">
			<input type="hidden" asp-for="Id" />
			<input type="hidden" asp-for="DateAdded" />
			<input type="hidden" asp-for="TitleImagePath" />

			<div asp-validation-summary="All"></div>
			<div class="div-box">
				<label asp-for="Name" class="form-label"></label>
				<input asp-for="Name" class="form-control" />
				<span asp-validation-for="Name"></span>
			</div>
			<div class="div-box">
				<label asp-for="Subtitle" class="form-label"></label>
				<input asp-for="Subtitle" class="form-control" />
				<span asp-validation-for="Subtitle"></span>
			</div>
			<div class="div-box">
				<label asp-for="Description" class="form-label"></label>
				<textarea asp-for="Description" class="form-control"></textarea>
				<span asp-validation-for="Description"></span>
			</div>
			<div class="div-box">
				<label asp-for="TitleImagePath" class="form-label"></label>
				<input type="file" name="titleImageFile" id="titleImageFile" class="form-control" />
				<div>
					<img class="img-thumbnail" src="~/images/@Model.TitleImagePath"/>
				</div>
			</div>
			<div class="div-box">
				<label asp-for="MetaTitle" class="form-label"></label>
				<input asp-for="MetaTitle" class="form-control" />
				<span asp-validation-for="MetaTitle"></span>
			</div>
			<div class="div-box">
				<label asp-for="MetaDescription" class="form-label"></label>
				<input asp-for="MetaDescription" class="form-control" />
				<span asp-validation-for="MetaDescription"></span>
			</div>
			<div class="div-box">
				<label asp-for="MetaKeyords" class="form-label"></label>
				<input asp-for="MetaKeyords" class="form-control" />
				<span asp-validation-for="MetaKeyords"></span>
			</div>
			<input type="submit" value="Save" class="btn btn-outline-primary" />
		</form>
	</div>
</div>

<script>
	window.onload = function() {
		var newCKEdit = CKEDITOR.replace('@Html.IdFor(x => x.Description)');
		newCKEdit.updateElement();
	}
</script>